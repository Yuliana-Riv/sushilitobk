"use strict";(self["webpackChunksoma_ft"]=self["webpackChunksoma_ft"]||[]).push([[650],{2650:function(s,t,e){e.r(t),e.d(t,{default:function(){return c}});var a=function(){var s=this,t=s._self._c;return t("div",{attrs:{id:"login_view"}},[t("div",{staticClass:"login_cnt"},[t("div",{staticClass:"login_bx"},[s._m(0),t("div",{staticClass:"login_frm"},[t("h1",[s._v("Login")]),t("form",{on:{submit:function(t){return t.preventDefault(),s.login(s.email,s.password)}}},[t("input",{directives:[{name:"model",rawName:"v-model",value:s.email,expression:"email"}],attrs:{type:"email",name:"email",id:"email",placeholder:"Correo electrónico",required:""},domProps:{value:s.email},on:{input:function(t){t.target.composing||(s.email=t.target.value)}}}),t("div",{staticClass:"bx_pss"},[t("input",{directives:[{name:"model",rawName:"v-model",value:s.password,expression:"password"}],attrs:{type:"password",name:"pass",id:"pass",minlength:"8",placeholder:"Contraseña",required:""},domProps:{value:s.password},on:{input:function(t){t.target.composing||(s.password=t.target.value)}}}),t("div",{staticClass:"bx_pss_img"},[s.mostrar?t("img",{attrs:{src:e(3233),alt:""},on:{click:function(t){return s.mostrarPass()}}}):t("img",{attrs:{src:e(6878),alt:""},on:{click:function(t){return s.mostrarPass()}}})])]),s._m(1),"error"==s.status?t("div",{staticClass:"message_error"},[t("p",[s._v(" "+s._s(this.message)+" ")]),t("img",{attrs:{src:e(8474)}})]):s._e()])])])])])},i=[function(){var s=this,t=s._self._c;return t("div",{staticClass:"logo_bx"},[t("img",{attrs:{src:e(4477),alt:"Logo SOMA INMOVILIARIA"}})])},function(){var s=this,t=s._self._c;return t("div",{staticClass:"btn_login"},[t("button",{attrs:{type:"submit"}},[s._v("Iniciar sesión")])])}],r=(e(7658),e(7270)),o={name:"Login",data(){return{status:"",message:"",email:"",password:"",mostrar:!1}},computed:{identity(){return this.$store.getters["admin/getIdentity"]}},methods:{wait:function(){setTimeout((()=>this.$router.go()),200)},delStatus:function(){setTimeout((()=>this.delMsgs()),1500)},delMsgs:function(){this.status="",this.message=""},async login(s,t){this.status="",this.message="";let e=await this.$store.dispatch("admin/login",{email:s,password:t});if("success"==e.status){let s=await this.$store.dispatch("admin/getData");if("success"==s.status)if("legrafica"==s.result.role||"admin"==s.result.role){let t=r.Z.isAdmin(s.result);1==t.admin?this.$router.push("/auth").catch((s=>{})):this.wait()}else if("colaborador"==s.result.role){let t=r.Z.isTch(s.result);1==t.tch?this.$router.push("/auth/colaborador").catch((s=>{})):this.wait()}else this.$router.push("/").catch((s=>{}));else this.status="error",this.message=s.message,this.delStatus(),this.wait()}else this.status="error",this.message=e.message,this.delStatus()},mostrarPass:function(){var s=document.getElementById("pass");"password"==s.type?(s.type="text",this.mostrar=!1):(s.type="password",this.mostrar=!0)}}},n=o,l=e(1001),u=(0,l.Z)(n,a,i,!1,null,"746f0a3c",null),c=u.exports},4477:function(s,t,e){s.exports=e.p+"img/Logo.417a5b5e.svg"},6878:function(s,t,e){s.exports=e.p+"img/Mostrar.ca6533ae.svg"},3233:function(s,t,e){s.exports=e.p+"img/NoMostrar.d03611ea.svg"},8474:function(s){s.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACUAAAAjCAYAAAATx8MeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGtSURBVHgBzZaBcYMwDEVFrgNkBGeDdIKyQbtB2CBkgnSD0gmSTZpM0BHIBmEDVTqbHKHYAgRO3p2PmHPw50vIAlCAiIbGF40rWkoaB74Pj4A2XjfEtOH7a4iJc6jEMCxsCbFwIerDAWLgXBrC/GEc4FLND8wJbZDiOFKYC5STO65b9OBM2LjE2G4FNuX7xq0JlYoSpkRwKW+tzfuu9bGQFqAtgPvAkkqYN9ljj4IqiiK2NAxMAwsS3QqKcrnSy/IBbCW3JKc4bFOfX1I6+EU5lzKYhxwD7U3IqeDbTID3sO4UNbNLNamvoPqcitNyeKLxTxQXSrqkEIdOt7qcmjuXxP3uRDmXDMQldfveaDs1xqWlMO9D9/GDcmvio8R+XYLEZ60lqR9GF27EDIznovw/H+SrJEmqOnwb0OeSAR23wzpxLmkbsG8aJxofYF9Qw4pDV6COu0JL8yPqKDh876Dj3JqfQMeGRRnQ8SbMh7J8AZv1mp6JSwlfz05QBjoqTvQCbMv7LBzrr+8Xpu8wx8BRe11QsbrQjx08Hha0c3osaI8I/pyvGBfer8BGe/wHyJkGrKvgwpoAAAAASUVORK5CYII="}}]);
//# sourceMappingURL=650.a0ff22fd.js.map