"use strict";(self["webpackChunksoma_ft"]=self["webpackChunksoma_ft"]||[]).push([[615],{8489:function(t,s,e){e.r(s),e.d(s,{default:function(){return Ut}});var a=function(){var t=this,s=t._self._c;return s("div",{attrs:{id:"Dashboard"}},[s("SideMenu"),s("div",{staticClass:"content_sections"},[s("Sections",{attrs:{option:"Default"}})],1)],1)},i=[],r=function(){var t=this,s=t._self._c;return s("div",{staticClass:"dflx",attrs:{id:"SideMenu"}},[s("div",{staticClass:"box-1"},[s("div",{staticClass:"logo"},[t.statusimg?s("img",{attrs:{src:t.srcImg(t.logo.logo),alt:""}}):s("img",{attrs:{src:e(5884),alt:"logo aplicación"}})]),s("div",{staticClass:"msg-user"},[s("p",[t._v(" ¡HOLA, "),s("span",[t._v(t._s(t._f("splitUp")(t.identity.name))+"! ")])])]),s("div",{staticClass:"menu"},[s("ul",[s("li",{class:{active:"Dashboard"==t.navOption},on:{click:function(s){t.activeMenu(0),t.setOption("Mi Página")}}},[t._m(0),"Mi Página"==t.navOption?s("div",{staticClass:"icon-active"},[s("div",{staticClass:"ico"})]):t._e()]),s("li",{class:{active:"Usuarios"==t.navOption},on:{click:function(s){t.activeMenu(0),t.setOption("Usuarios"),t.setHistoryOptionUsr("Default")}}},[t._m(1),"Usuarios"==t.navOption?s("div",{staticClass:"icon-active"},[s("div",{staticClass:"ico"})]):t._e()]),s("li",{class:{active:"Personalizacion"==t.navOption},on:{click:function(s){t.activeMenu(0),t.setOption("Personalizacion"),t.setHistoryOptionPrf("Default")}}},[t._m(2),"Personalizacion"==t.navOption?s("div",{staticClass:"icon-active"},[s("div",{staticClass:"ico"})]):t._e()]),s("li",{class:{active:"colaborador"==t.navOption},on:{click:function(s){t.activeMenu(0),t.setOption("colaborador"),t.setHistoryOptionClb("Default")}}},[t._m(3),"colaborador"==t.navOption?s("div",{staticClass:"icon-active"},[s("div",{staticClass:"ico"})]):t._e()]),s("li",{class:{active:"MenuP"==t.navOption},on:{click:function(s){t.activeMenu(2),t.setOption("MenuP")}}},[t._m(4),"MenuP"==t.navOption||t.hidemenu2?s("div",{staticClass:"icon-active-menu"},[s("div",{staticClass:"ico-2"})]):t._e()]),t.hidemenu2?s("li",{staticClass:"submenu",class:{active:"terrenos"==t.navOption},on:{click:function(s){t.setOption("terrenos"),t.setHistoryOptionTrr("Default")}}},[t._v(" ⦁ TERRENOS ")]):t._e(),t.hidemenu2?s("li",{staticClass:"submenu",class:{active:"casas"==t.navOption},on:{click:function(s){t.setOption("casas"),t.setHistoryOptionCss("Default")}}},[t._v(" ⦁ CASAS ")]):t._e(),t.hidemenu2?s("li",{staticClass:"submenu",class:{active:"oficinas"==t.navOption},on:{click:function(s){t.setOption("oficinas"),t.setHistoryOptionOfn("Default")}}},[t._v(" ⦁ OFICINAS ")]):t._e(),t.hidemenu2?s("li",{staticClass:"submenu",class:{active:"locales"==t.navOption},on:{click:function(s){t.setOption("locales"),t.setHistoryOptionLcl("Default")}}},[t._v(" ⦁ LOCALES ")]):t._e()])])]),t._m(5)])},o=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"text-menu"},[t._v("MI "),s("span",[t._v(" PÁGINA")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"text-menu"},[s("span",[t._v("USUARIOS")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"text-menu"},[s("span",[t._v("PERSONALIZACIÓN")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"text-menu"},[s("span",[t._v("COLABORADORES")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"text-menu"},[t._v("MENÚ "),s("span",[t._v(" PROPIEDADES")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"box-2"},[s("div",{staticClass:"triangulo"})])}],n=e(629),l=e(3122),c={name:"SideMenu",data(){return{navOption:"Default",hidemenu:!1,hidemenu2:!1,url:l.H,statusimg:!1}},async created(){await this.getIdentity(),await this.getAllInfoLgo("personalize");await this.status_img(this.logo.logo);let t=localStorage.getItem("nav");t&&(this.setHistoryOptionMain(t),this.navOption=t,"terrenos"!=t&&"casas"!=t&&"oficinas"!=t&&"locales"!=t||(this.hidemenu2=!0))},computed:{identity(){return this.$store.getters["admin/getIdentity"]},logo(){const t=this.$store.getters["logo/data"];return Array.isArray(t)&&t[0]?.logo?t[0]:{logo:""}}},methods:{...(0,n.nv)("main",["setHistoryOptionMain"]),...(0,n.nv)("logo",["getAllInfoLgo"]),...(0,n.nv)("usuarios",["setHistoryOptionUsr"]),...(0,n.nv)("usuarios",["getAllInfoUsr"]),...(0,n.nv)("profile",["setHistoryOptionPrf"]),...(0,n.nv)("profile",["getAllInfoPrf"]),...(0,n.nv)("colaborador",["setHistoryOptionClb"]),...(0,n.nv)("colaborador",["getAllInfoClb"]),...(0,n.nv)("terrenos",["setHistoryOptionTrr"]),...(0,n.nv)("terrenos",["getAllInfoTrr"]),...(0,n.nv)("casas",["setHistoryOptionCss"]),...(0,n.nv)("casas",["getAllInfoCss"]),...(0,n.nv)("oficinas",["setHistoryOptionOfn"]),...(0,n.nv)("oficinas",["getAllInfoOfn"]),...(0,n.nv)("locales",["setHistoryOptionLcl"]),...(0,n.nv)("locales",["getAllInfoLcl"]),activeMenu(t){1==t?this.hidemenu?this.hidemenu=!1:this.hidemenu=!0:2==t?this.hidemenu2?this.hidemenu2=!1:this.hidemenu2=!0:(this.hidemenu=!1,this.hidemenu2=!1)},getIdentity:async function(){let t=await this.$store.dispatch("admin/getData");return t},setOption:function(t){"MenuP"==t?this.navOption=t:"Mi Página"==t||(this.navOption=t,localStorage.setItem("nav",t),this.setHistoryOptionMain(t),"Usuarios"==t?this.getAllInfoUsr("usuarios"):"Personalizacion"==t?this.getAllInfoPrf("profile"):"colaborador"==t?this.getAllInfoClb("colaborador"):"terrenos"==t?this.getAllInfoTrr("terrenos"):"casas"==t?this.getAllInfoCss("casas"):"oficinas"==t?this.getAllInfoOfn("oficinas"):"locales"==t&&this.getAllInfoLcl("locales"))},status_img:async function(t){if(!t||""==t)return this.statusimg=!1,"";let s={option:"personalize",image:t},e="";try{e=await this.$store.dispatch("main/getStatusImage",s),e?.data?.status?e="":this.statusimg=!0}catch(a){console.log(a)}return e},srcImg:function(t){if(!t||""==t)return this.statusimg=!1,"";let s=`${l.H}personalize-img/${t}`;return s}},filters:{splitUp:t=>{if(!t)return"";t=t.toString();let s=t.toUpperCase().split(" ");return s[0].charAt(0)+s[0].substring(1)}}},d=c,u=e(1001),m=(0,u.Z)(d,r,o,!1,null,"b85172c2",null),v=m.exports,p=function(){var t=this,s=t._self._c;return s("div",{attrs:{id:"Sections"}},[s("HeaderSec"),"Usuarios"==t.historyOption?s("div",[s("Usuarios")],1):t._e(),"Personalizacion"==t.historyOption?s("div",[s("Perfil")],1):t._e(),"colaborador"==t.historyOption?s("div",[s("Colaboradores")],1):t._e(),"terrenos"==t.historyOption?s("div",[s("Terrenos")],1):t._e(),"casas"==t.historyOption?s("div",[s("Casas")],1):t._e(),"oficinas"==t.historyOption?s("div",[s("Oficinas")],1):t._e(),"locales"==t.historyOption?s("div",[s("Locales")],1):t._e()],1)},h=[],g=function(){var t=this,s=t._self._c;return s("div",{attrs:{id:"HeaderSec"}},[s("div",{staticClass:"dflx"},[s("div",{staticClass:"titles"},["Perzonalizacion"==t.historyOption?s("div",[s("h3",[t._v("PERSONALIZACIÓN")]),s("p",[t._v("Selección de Perfiles de Color")])]):"Usuarios"==t.historyOption?s("div",["Default"==t.historyOptionUsr?s("div",[s("h3",[t._v("USUARIOS")]),s("p",[t._v("Accesos permitidos al administrador")])]):t._e(),"Add"==t.historyOptionUsr?s("div",[s("h3",[t._v("USUARIOS")]),s("p",[t._v("Agregar nuevo usuario")])]):t._e(),"Edit"==t.historyOptionUsr?s("div",[s("h3",[t._v("USUARIOS")]),s("p",[t._v("Editar usuario")])]):t._e()]):"Personalizacion"==t.historyOption?s("div",["Default"==t.historyOptionPrf?s("div",[s("h3",[t._v("PERSONALIZACIÓN")]),s("p",[t._v("Selección de Perfiles de Color")])]):t._e(),"Add"==t.historyOptionPrf?s("div",[s("h3",[t._v("PERSONALIZACIÓN")]),s("p",[t._v("Agregar color")])]):t._e(),"Edit"==t.historyOptionPrf?s("div",[s("h3",[t._v("PERSONALIZACIÓN")]),s("p",[t._v("Editar color")])]):t._e()]):"Default"==t.historyOption?s("div",["Default"==t.historyOptionUsr?s("div",[s("h3",[t._v("USUARIOS")]),s("p",[t._v("Accesos permitidos al administrador")])]):t._e(),"Add"==t.historyOptionUsr?s("div",[s("h3",[t._v("USUARIOS")]),s("p",[t._v("Agregar nuevo usuario")])]):t._e(),"Edit"==t.historyOptionUsr?s("div",[s("h3",[t._v("USUARIOS")]),s("p",[t._v("Editar usuario")])]):t._e()]):"colaborador"==t.historyOption?s("div",["Default"==t.historyOptionClb?s("div",[s("h3",[t._v("COLABORADORES")]),s("p",[t._v("Listado de colaboradores")])]):t._e(),"Add"==t.historyOptionClb?s("div",[s("h3",[t._v("COLABORADORES")]),s("p",[t._v("Agregar nuevo colaborador")])]):t._e(),"Edit"==t.historyOptionClb?s("div",[s("h3",[t._v("COLABORADORES")]),s("p",[t._v("Editar colaborador")])]):t._e()]):"terrenos"==t.historyOption?s("div",["Default"==t.historyOptionTrr?s("div",[s("h3",[t._v("TERRENOS")]),s("p",[t._v("Listado de terrenos")])]):t._e(),"Add"==t.historyOptionTrr?s("div",[s("h3",[t._v("TERRENOS")]),s("p",[t._v("Agregar nuevo terreno")])]):t._e(),"Edit"==t.historyOptionTrr?s("div",[s("h3",[t._v("TERRENOS")]),s("p",[t._v("Editar terreno")])]):t._e()]):"casas"==t.historyOption?s("div",["Default"==t.historyOptionCss?s("div",[s("h3",[t._v("CASAS")]),s("p",[t._v("Listado de casas")])]):t._e(),"Add"==t.historyOptionCss?s("div",[s("h3",[t._v("CASAS")]),s("p",[t._v("Agregar nuevo casa")])]):t._e(),"Edit"==t.historyOptionCss?s("div",[s("h3",[t._v("CASAS")]),s("p",[t._v("Editar casa")])]):t._e()]):"oficinas"==t.historyOption?s("div",["Default"==t.historyOptionOfn?s("div",[s("h3",[t._v("OFICINAS")]),s("p",[t._v("Listado de oficinas")])]):t._e(),"Add"==t.historyOptionOfn?s("div",[s("h3",[t._v("OFICINAS")]),s("p",[t._v("Agregar nuevo oficina")])]):t._e(),"Edit"==t.historyOptionOfn?s("div",[s("h3",[t._v("OFICINAS")]),s("p",[t._v("Editar oficina")])]):t._e()]):"locales"==t.historyOption?s("div",["Default"==t.historyOptionLcl?s("div",[s("h3",[t._v("LOCALES")]),s("p",[t._v("Listado de locales")])]):t._e(),"Add"==t.historyOptionLcl?s("div",[s("h3",[t._v("LOCALES")]),s("p",[t._v("Agregar nuevo local")])]):t._e(),"Edit"==t.historyOptionLcl?s("div",[s("h3",[t._v("LOCALES")]),s("p",[t._v("Editar local")])]):t._e()]):s("div",[s("h3",[t._v(t._s(t.historyOption))]),s("p",[t._v("Opción aun no disponible.")])])]),s("div",{staticClass:"user-dv dflx"},[s("div",[s("h4",[t._v(" "+t._s(t._f("splitUp")(t.identity.name))+" "+t._s(t._f("splitUp")(t.identity.lastname))+" ")]),s("button",{on:{click:function(s){return t.cerrarSesion()}}},[t._v("Cerrar Sesión")])]),"success"==t.statusicon?s("div",{staticClass:"icon-user"},[s("img",{attrs:{src:this.srcImg(t.icon),alt:"icono usuario"}})]):s("div",{staticClass:"icon-user"},[s("img",{attrs:{src:t.icondefault,alt:"icono usuario"}})])])]),s("hr",{staticClass:"hrhd"}),t.viewModal?s("div",{staticClass:"modal_view"},[s("div",{attrs:{id:"modal_logout"}},[t._m(0),s("div",{staticClass:"modal_log_btns dflx"},[s("p",{on:{click:function(s){return t.logout()}}},[t._v("Aceptar")]),s("p",{on:{click:function(s){return t.cancelar()}}},[t._v("Cancelar")])])])]):t._e()])},f=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"body"},[s("img",{attrs:{src:e(9355),alt:"icono alerta"}}),s("h3",[s("span",[t._v("Cerrar Sesión")])])])}],_=e(6896),C={name:"HeaderSec",data(){return{message:"",status:"",viewModal:!1,url:l.H,icondefault:_,statusimg:"success"}},async created(){await this.getIdentity();let t={id:this.identity.sub,option:"user"};this.getImage(t)},computed:{historyOption(){return this.$store.getters["main/getHistoryOption"]},icon(){return this.$store.getters["main/img"]},statusicon(){return this.$store.getters["main/statusimg"]},historyOptionUsr(){return this.$store.getters["usuarios/getHistoryOption"]},historyOptionPrf(){return this.$store.getters["profile/getHistoryOption"]},historyOptionClb(){return this.$store.getters["colaborador/getHistoryOption"]},historyOptionTrr(){return this.$store.getters["terrenos/getHistoryOption"]},historyOptionCss(){return this.$store.getters["casas/getHistoryOption"]},historyOptionOfn(){return this.$store.getters["oficinas/getHistoryOption"]},historyOptionLcl(){return this.$store.getters["locales/getHistoryOption"]},identity(){return this.$store.getters["admin/getIdentity"]}},methods:{...(0,n.nv)("main",["getImage"]),wait:function(){setTimeout((()=>this.$router.go()),200)},getIdentity:async function(){let t=await this.$store.dispatch("admin/getData");return t},cerrarSesion(){this.viewModal=!0},cancelar(){this.viewModal=!1},logout:async function(){await this.$store.dispatch("admin/logout");this.wait()},srcImg:function(t){let s=`${l.H}/user-img/${t}`;return this.status_img(t),s},status_img:async function(t){let s={option:"user",image:t},e="";try{e=await this.$store.dispatch("main/getStatusImage",s),"error"==e.data.status?this.statusimg="error":this.statusimg="success"}catch(a){this.statusimg="error"}}},filters:{split:t=>t?(t=t.toString(),t.charAt(0).toUpperCase()):"",splitUp:t=>{if(!t)return"";t=t.toString();let s=t.toLowerCase().split(" ");return s[0].charAt(0).toUpperCase()+s[0].substring(1)},splitName:t=>{if(!t)return"";t=t.toString();let s=t.toLowerCase().split(" "),e=s.length;return 1==e?s[0].charAt(0).toUpperCase()+s[0].substring(1):s[0].charAt(0).toUpperCase()+s[0].substring(1)+" "+s[1].charAt(0).toUpperCase()+s[1].substring(1)}}},b=C,y=(0,u.Z)(b,g,f,!1,null,"d8d0a3b6",null),w=y.exports,A=function(){var t=this,s=t._self._c;return s("div",{attrs:{id:"Usuarios"}},["Default"==t.historyOption?s("div",[s("div",{staticClass:"dflx"},[s("p",{staticClass:"noitems"},[t._v("No. de items "),s("span",[t._v(" "+t._s(t.data.length))])]),s("div",{staticClass:"select-container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.active,expression:"active"}],attrs:{type:"checkbox",name:"select-ch",id:"select-ch","true-value":"true","false-value":"false"},domProps:{checked:Array.isArray(t.active)?t._i(t.active,null)>-1:t._q(t.active,"true")},on:{change:function(s){var e=t.active,a=s.target,i=a.checked?"true":"false";if(Array.isArray(e)){var r=null,o=t._i(e,r);a.checked?o<0&&(t.active=e.concat([r])):o>-1&&(t.active=e.slice(0,o).concat(e.slice(o+1)))}else t.active=i}}}),s("label",{attrs:{for:"select-ch"}},[s("div",{class:{rounded:t.active},attrs:{id:"select-items"}},[t._v(" Items por página: "+t._s(t.itemsPerPage)+" ")])]),s("div",{staticClass:"options-cont",on:{click:function(s){return t.closeSelect()}}},[s("div",{staticClass:"option-btn",attrs:{value:6},on:{click:function(s){t.itemsPerPage="6"}}},[t._v(" 6 ")]),s("div",{staticClass:"option-btn",attrs:{value:12},on:{click:function(s){t.itemsPerPage="12"}}},[t._v(" 12 ")]),s("div",{staticClass:"option-btn",attrs:{value:18},on:{click:function(s){t.itemsPerPage="18"}}},[t._v(" 18 ")]),s("div",{staticClass:"option-btn",attrs:{value:24},on:{click:function(s){t.itemsPerPage="24"}}},[t._v(" 24 ")])])]),s("div",{staticClass:"buscador dflx"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.search_value,expression:"search_value"}],staticClass:"form-control",attrs:{type:"search",id:"input-search",placeholder:"Búsqueda"},domProps:{value:t.search_value},on:{input:function(s){s.target.composing||(t.search_value=s.target.value)}}}),t._m(0)])]),s("div",{staticClass:"btn_añadir dflx",on:{click:function(s){return t.changeView("Add","")}}},[s("p",[t._v(" AGREGAR")]),t._v(" "),s("img",{attrs:{src:e(40),alt:""}})]),s("div",{staticClass:"tbl_usuarios"},[t._m(1),s("div",{attrs:{tbl_content:""}},[t.data.length>0?s("div",t._l(t.filteredItems,(function(a,i){return s("div",{key:i,staticClass:"tbl_items dflx"},[s("div",{staticClass:"tbl_item"},[s("p",[t._v(t._s(a.name))])]),s("div",{staticClass:"tbl_item"},[s("p",[t._v(t._s(a.lastname))])]),s("div",{staticClass:"tbl_item"},[s("p",[t._v(t._s(a.email))])]),s("div",{staticClass:"tbl_item"},[s("p",[t._v(t._s(a.role))])]),s("div",{staticClass:"icon_editar"},[s("img",{attrs:{src:e(8926),alt:"icono editar"},on:{click:function(s){return t.changeView("Edit",a)}}})]),s("div",{staticClass:"icon_eliminar"},[s("img",{attrs:{src:e(6015),alt:"icono eliminar"},on:{click:function(s){return t.showModal(a.id)}}})])])})),0):s("div",[s("p",{staticClass:"snu"},[t._v("Aun no hay registros.")])])])]),s("div",{staticClass:"mlf",attrs:{id:"navigate-buttons"}},[s("div",{staticClass:"dflx"},[s("button",{staticClass:"btn-navigate",attrs:{id:"btn-prev"},on:{click:t.prev}},[s("img",{attrs:{src:e(1651),alt:"icono anterior"}})]),s("p",{staticClass:"num-pages"},[t._v(t._s(t.currentPage)+" / "+t._s(t.totalPages))]),s("button",{staticClass:"btn-navigate",attrs:{id:"btn-next"},on:{click:t.next}},[s("img",{attrs:{src:e(1924),alt:"icono siguiente"}})])])])]):t._e(),"Add"==t.historyOption?s("div",[s("AddU")],1):t._e(),"Edit"==t.historyOption?s("div",[s("EditU")],1):t._e(),""!=t.status?s("div",{staticClass:"status_messages"},["success"==t.status?s("div",{staticClass:"msg msg_success"},[s("p",[t._v(t._s(t.message))])]):t._e(),"error"==t.status?s("div",{staticClass:"msg msg_error"},[s("p",[t._v(t._s(t.message))])]):t._e()]):t._e(),t.viewModal?s("div",{staticClass:"modal_view"},[s("div",{attrs:{id:"modal_delete"}},[t._m(2),s("div",{staticClass:"modal_del_btns dflx"},[s("p",{on:{click:function(s){return t.eliminar()}}},[t._v("Aceptar")]),t._v(" "),s("p",{on:{click:function(s){return t.closeModal()}}},[t._v("Cancelar")])])])]):t._e()])},O=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"icon_buscar"},[s("img",{attrs:{src:e(6704),alt:"icono buscar"}})])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"tbl_header dflx"},[s("div",{staticClass:"tblh tblrad"},[s("p",[t._v("NOMBRE")])]),s("div",{staticClass:"tblh"},[s("p",[t._v("APELLIDOS")])]),s("div",{staticClass:"tblh"},[s("p",[t._v("CORREO")])]),s("div",{staticClass:"tblh"},[s("p",[t._v("ROL")])]),s("div",{staticClass:"tblh2"},[s("p",[t._v("BORRAR")])]),s("div",{staticClass:"tblh2 tblh2r"},[s("p",[t._v("EDITAR")])])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"body"},[s("img",{attrs:{src:e(8474),alt:"icono alerta"}}),s("h3",[t._v("¿Estás seguro de "),s("span",[t._v("eliminar "),s("br"),t._v(" este usuario?")])])])}],x=function(){var t=this,s=t._self._c;return s("div",{attrs:{id:"AddUsr"}},[s("div",{staticClass:"form-content"},[s("form",{on:{submit:function(s){return s.preventDefault(),t.submit(t.name,t.lastname,t.role,t.email,t.phone,t.pass,t.passc)}}},[s("div",{staticClass:"grup-form dflx"},[s("div",{staticClass:"boxform"},[s("label",{staticClass:"name",attrs:{for:"name"}},[t._v("Nombre ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"in1",attrs:{type:"text",id:"name",name:"name",pattern:"[a-zA-ZñÑáéíóúÁÉÍÓÚ0-9\\s]{2,254}",required:""},domProps:{value:t.name},on:{input:function(s){s.target.composing||(t.name=s.target.value)}}})]),s("div",{staticClass:"boxform"},[s("label",{staticClass:"lastname",attrs:{for:"lastname"}},[t._v("Apellido/s")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.lastname,expression:"lastname"}],staticClass:"in1",attrs:{type:"text",id:"lastname",name:"lastname",pattern:"[a-zA-ZñÑáéíóúÁÉÍÓÚ0-9\\s]{2,254}",required:""},domProps:{value:t.lastname},on:{input:function(s){s.target.composing||(t.lastname=s.target.value)}}})]),s("div",{staticClass:"boxform"},[s("label",{staticClass:"role",attrs:{for:"role"}},[t._v("Rol ")]),s("div",{staticClass:"select-container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.active,expression:"active"}],attrs:{type:"checkbox",name:"select-ch",id:"select-ch","true-value":!0,"false-value":!1},domProps:{checked:Array.isArray(t.active)?t._i(t.active,null)>-1:t.active},on:{change:function(s){var e=t.active,a=s.target,i=!!a.checked;if(Array.isArray(e)){var r=null,o=t._i(e,r);a.checked?o<0&&(t.active=e.concat([r])):o>-1&&(t.active=e.slice(0,o).concat(e.slice(o+1)))}else t.active=i}}}),s("label",{attrs:{for:"select-ch"}},[s("div",{class:{rounded:t.active},attrs:{id:"select-role"}},[t._v(" "+t._s(t.role)+" ")])]),s("div",{staticClass:"options-cont",on:{click:function(s){return t.closeSelect()}}},[s("div",{staticClass:"option-btn",on:{click:function(s){t.role="admin"}}},[t._v("admin")])])])])]),s("div",{staticClass:"grup-form dflx"},[s("div",{staticClass:"boxform"},[s("label",{staticClass:"phone",attrs:{for:"phone"}},[t._v("Teléfono")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],staticClass:"in1",attrs:{type:"text",id:"phone",name:"phone",minlength:"10",maxlength:"10",size:"10",pattern:"\\d*",required:""},domProps:{value:t.phone},on:{input:function(s){s.target.composing||(t.phone=s.target.value)}}})]),s("div",{staticClass:"boxform"},[s("label",{staticClass:"email",attrs:{for:"email"}},[t._v("E-mail")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"in1",attrs:{type:"email",id:"email",name:"email",required:""},domProps:{value:t.email},on:{input:function(s){s.target.composing||(t.email=s.target.value)}}})])]),s("div",{staticClass:"grup-form dflx"},[s("div",{staticClass:"boxform"},[s("label",{staticClass:"pass",attrs:{for:"pass"}},[t._v("Contraseña")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.pass,expression:"pass"}],staticClass:"in5",attrs:{type:"password",id:"pass",name:"pass",minlength:"8",required:""},domProps:{value:t.pass},on:{input:function(s){s.target.composing||(t.pass=s.target.value)}}})]),s("div",{staticClass:"boxform"},[s("label",{staticClass:"passc",attrs:{for:"passc"}},[t._v("Confirmar Contraseña")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.passc,expression:"passc"}],staticClass:"in5",attrs:{type:"password",id:"passc",name:"passc",minlength:"8",required:""},domProps:{value:t.passc},on:{input:function(s){s.target.composing||(t.passc=s.target.value)}}})])]),s("div",{staticClass:"dflx"},[s("p",{staticClass:"btnRegresar",on:{click:function(s){return t.wait()}}},[t._v("Regresar")]),s("button",{staticClass:"alta",attrs:{type:"submit"}},[t._v("Guardar")])]),""!=t.status?s("div",{staticClass:"status_messages"},["success"==t.status?s("div",{staticClass:"msg msg_success"},[s("p",[t._v(t._s(t.message))])]):t._e(),"error"==t.status?s("div",{staticClass:"msg msg_error"},[s("p",[t._v(t._s(t.message))])]):t._e()]):t._e()]),t.viewModal?s("div",{staticClass:"modal_view"},[s("div",{attrs:{id:"modal_add"}},[t._m(0),s("div",{staticClass:"modal_add_btns dflx"},[s("p",{staticClass:"otro",on:{click:function(s){return t.Add()}}},[t._v("Aceptar")]),s("p",{staticClass:"editar",on:{click:function(s){return t.toEdit()}}},[t._v("Editar")]),s("p",{staticClass:"inicio",on:{click:function(s){return t.back()}}},[t._v("Inicio")])])])]):t._e()])])},P=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"body dflx"},[s("h3",[t._v("Usuario agregado")]),s("img",{attrs:{src:e(40),alt:"icono alerta"}})])}],I={name:"AddUsr",data(){return{status:"",message:"",name:"",lastname:"",role:"admin",active:!1,phone:"",email:"",pass:"",passc:"",viewModal:!1}},methods:{...(0,n.nv)("usuarios",["setAddedUsr"]),...(0,n.nv)("usuarios",["setHistoryOptionUsr"]),wait:function(){setTimeout((()=>this.$router.go()),200)},submit:async function(t,s,e,a,i,r,o){if(this.status="",this.message="",r===o){let o={name:t,lastname:s,phone:i,email:a,password:r,role:e},n=await this.$store.dispatch("usuarios/addItemUsr",{option:"user",item:o});"error"==n.status?(this.status="error",this.message=n.message):(this.setAddedUsr(n.added),this.showModal())}else this.status="error",this.message="Las contraseñas no coinciden."},closeSelect(){this.active=!1,document.getElementById("select-ch").checked=!1},showModal:function(){this.viewModal=!0},closeModal:function(){this.viewModal=!1,this.setAddedUsr(""),this.setHistoryOptionUsr("Default")},Add:function(){this.status="",this.message="",this.name="",this.lastname="",this.role="admin",this.phone="",this.email="",this.pass="",this.passc="",this.viewModal=!1,this.setAddedUsr("")},toEdit:function(){this.setHistoryOptionUsr("Edit"),this.viewModal=!1},back:function(){setTimeout((()=>this.$router.go()),200)}}},k=I,M=(0,u.Z)(k,x,P,!1,null,"4cac57a0",null),S=M.exports,E=function(){var t=this,s=t._self._c;return s("div",{attrs:{id:"EditUsr"}},[s("div",{staticClass:"form-content"},[s("form",{on:{submit:function(s){return s.preventDefault(),t.submit(t.added.name,t.added.lastname,t.added.role,t.added.email,t.added.phone,t.pass,t.passc)}}},[s("div",{staticClass:"grup-form dflx"},[s("div",{staticClass:"boxform"},[s("label",{staticClass:"name",attrs:{for:"name"}},[t._v("Nombre ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.added.name,expression:"added.name"}],staticClass:"in1",attrs:{type:"text",id:"name",name:"name",pattern:"[a-zA-ZñÑáéíóúÁÉÍÓÚ0-9\\s]{2,254}",required:""},domProps:{value:t.added.name},on:{input:function(s){s.target.composing||t.$set(t.added,"name",s.target.value)}}})]),s("div",{staticClass:"boxform"},[s("label",{staticClass:"lastname",attrs:{for:"lastname"}},[t._v("Apellido/s")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.added.lastname,expression:"added.lastname"}],staticClass:"in1",attrs:{type:"text",id:"lastname",name:"lastname",pattern:"[a-zA-ZñÑáéíóúÁÉÍÓÚ0-9\\s]{2,254}",required:""},domProps:{value:t.added.lastname},on:{input:function(s){s.target.composing||t.$set(t.added,"lastname",s.target.value)}}})]),s("div",{staticClass:"boxform"},[s("label",{staticClass:"role",attrs:{for:"role"}},[t._v("Rol")]),s("div",{staticClass:"select-container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.active,expression:"active"}],attrs:{type:"checkbox",name:"select-ch",id:"select-ch","true-value":!0,"false-value":!1},domProps:{checked:Array.isArray(t.active)?t._i(t.active,null)>-1:t.active},on:{change:function(s){var e=t.active,a=s.target,i=!!a.checked;if(Array.isArray(e)){var r=null,o=t._i(e,r);a.checked?o<0&&(t.active=e.concat([r])):o>-1&&(t.active=e.slice(0,o).concat(e.slice(o+1)))}else t.active=i}}}),s("label",{attrs:{for:"select-ch"}},[s("div",{class:{rounded:t.active},attrs:{id:"select-role"}},[t._v(" "+t._s(t.added.role)+" ")])]),s("div",{staticClass:"options-cont",on:{click:function(s){return t.closeSelect()}}},[s("div",{staticClass:"option-btn",on:{click:function(s){t.added.role="admin"}}},[t._v(" admin ")])])])])]),s("div",{staticClass:"grup-form dflx"},[s("div",{staticClass:"boxform"},[s("label",{staticClass:"phone",attrs:{for:"phone"}},[t._v("Teléfono")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.added.phone,expression:"added.phone"}],staticClass:"in1",attrs:{type:"text",id:"phone",name:"phone",minlength:"10",maxlength:"10",size:"10",pattern:"\\d*",required:""},domProps:{value:t.added.phone},on:{input:function(s){s.target.composing||t.$set(t.added,"phone",s.target.value)}}})]),s("div",{staticClass:"boxform"},[s("label",{staticClass:"email",attrs:{for:"email"}},[t._v("E-mail")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.added.email,expression:"added.email"}],staticClass:"in1",attrs:{type:"email",id:"email",name:"email",required:""},domProps:{value:t.added.email},on:{input:function(s){s.target.composing||t.$set(t.added,"email",s.target.value)}}})])]),s("p",{staticClass:"chpass"},[t._v("*Solo si deseas cambiar la contraseña.")]),s("div",{staticClass:"grup-form dflx"},[s("div",{staticClass:"boxform"},[s("label",{staticClass:"pass",attrs:{for:"pass"}},[t._v("Contraseña")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.pass,expression:"pass"}],staticClass:"in5",attrs:{type:"password",id:"pass",name:"pass",minlength:"8"},domProps:{value:t.pass},on:{input:function(s){s.target.composing||(t.pass=s.target.value)}}})]),s("div",{staticClass:"boxform"},[s("label",{staticClass:"passc",attrs:{for:"passc"}},[t._v("Confirmar Contraseña")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.passc,expression:"passc"}],staticClass:"in5",attrs:{type:"password",id:"passc",name:"passc",minlength:"8"},domProps:{value:t.passc},on:{input:function(s){s.target.composing||(t.passc=s.target.value)}}})])]),s("div",{staticClass:"dflx"},[s("p",{staticClass:"btnRegresar",on:{click:function(s){return t.wait()}}},[t._v("Regresar")]),s("button",{staticClass:"alta",attrs:{type:"submit"}},[t._v("Editar")])]),""!=t.status?s("div",{staticClass:"status_messages"},["success"==t.status?s("div",{staticClass:"msg msg_success"},[s("p",[t._v(t._s(t.message))])]):t._e(),"error"==t.status?s("div",{staticClass:"msg msg_error"},[s("p",[t._v(t._s(t.message))])]):t._e()]):t._e()])]),s("hr",{staticClass:"hrhd"}),s("div",{staticClass:"form-img"},[s("div",{staticClass:"grup-form dflx"},[s("div",{staticClass:"boxform"},[s("label",[t._v("Imagen")]),s("div",{staticClass:"dflx"},[t._m(0),s("label",{staticClass:"filelabelname tbl_item",attrs:{for:"uploadimg"}},[t._v(" "+t._s(t.archivo))])]),s("input",{staticClass:"fileinput",attrs:{type:"file",id:"uploadimg",name:"uploadimg",required:""},on:{change:t.previewFiles}})])]),s("div",{staticClass:"dflx"},[s("div",{staticClass:"btn_añadir2 dflx",on:{click:function(s){return t.submitImg(t.file1)}}},[t._m(1),s("img",{attrs:{src:e(4696),alt:""}})])]),""!=t.status2?s("div",{staticClass:"status_messages"},["success"==t.status2?s("div",{staticClass:"msg msg_success"},[s("p",[t._v(t._s(t.message2))])]):t._e(),"error"==t.status2?s("div",{staticClass:"msg msg_error"},[s("p",[t._v(t._s(t.message2))])]):t._e()]):t._e()]),s("div",{staticClass:"div-user"},[t.statusimg?s("img",{staticClass:"logo",attrs:{src:t.srcImg(t.added.image),alt:""}}):t._e()]),t.viewModal?s("div",{staticClass:"modal_view"},[s("div",{attrs:{id:"modal_edit"}},[t._m(2),s("div",{staticClass:"modal_edit_btns dflx"},[s("p",{staticClass:"otro",on:{click:function(s){return t.wait()}}},[t._v("Aceptar")])])])]):t._e()])},$=[function(){var t=this,s=t._self._c;return s("label",{staticClass:"filelabel",attrs:{for:"uploadimg"}},[s("span",[t._v("Seleccionar Archivo")])])},function(){var t=this,s=t._self._c;return s("p",[t._v("AGREGAR "),s("span",[t._v(" IMAGEN")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"body dflx"},[s("h3",[t._v("Usuario actualizado")]),s("img",{attrs:{src:e(40),alt:"icono alerta"}})])}],N={name:"EditUsr",data(){return{status:"",message:"",status2:"",message2:"",active:!1,pass:"",passc:"",archivo:"No se eligió archivo",statusimg:!1,file1:null,viewModal:!1}},async created(){let t={id:this.added.id,option:"user"};this.getInfoByIdUsr(t);await this.status_img(this.added.image)},computed:{added(){return this.$store.getters["usuarios/getAdded"]},data(){return this.$store.getters["usuarios/data"]}},methods:{...(0,n.nv)("usuarios",["setAddedUsr"]),...(0,n.nv)("usuarios",["setHistoryOptionUsr"]),wait:function(){setTimeout((()=>this.$router.go()),200)},...(0,n.nv)("usuarios",["getInfoByIdUsr"]),submit:async function(t,s,e,a,i,r,o){if(this.status="",this.message="",r===o){let o={id:this.added.id,name:t,lastname:s,phone:i,email:a,password:r,role:e},n=await this.$store.dispatch("usuarios/editItemUsr",{option:"user",item:o});"error"==n.status?(this.status="error",this.message=n.message):this.showModal()}else this.status="error",this.message="Las contraseñas no coinciden."},closeSelect(){this.active=!1,document.getElementById("select-ch").checked=!1},submitImg:async function(t){if(this.status="",this.msg="",null!=t)if(t.size>5e6)this.status2="error",this.message2="La imagen excede el tamaño maximo permitido de 1MB.",this.delStatus();else{var s=new FormData;s.append("image",t),s.append("_method","PUT");let e=await this.$store.dispatch("main/editImage",{id:this.added.id,item:s,option:"user"});"error"==e.status?(this.status2="error",this.message2=e.message,this.delStatus()):this.showModal()}else this.status2="error",this.message2="Imagen no subida.",this.delStatus()},delStatus:function(){setTimeout((()=>this.delMsgs()),2e3)},delMsgs:function(){this.status="",this.message="",this.status2="",this.message2=""},showModal:function(){this.viewModal=!0},closeModal:function(){this.viewModal=!1,this.setAddedUsr(""),this.setHistoryOptionUsr("Default")},Edit:function(){this.viewModal=!1},back:function(){setTimeout((()=>this.$router.go()),200)},previewFiles(t){var s=t.target.files||t.dataTransfer.files;s.length&&(this.file1=s[0],this.archivo=this.file1.name)},srcImg:function(t){if(console.log(t),!t||""==t)return this.statusimg=!1,"";let s=`${l.H}/user-img/${t}`;return s},status_img:async function(t){if(!t||""==t)return this.statusimg=!1,"";this.statusimg=!1;let s={option:"user",image:t},e="";try{e=await this.$store.dispatch("main/getStatusImage",s),e?.data?.status?e="":this.statusimg=!0}catch(a){}return e}}},U=N,R=(0,u.Z)(U,E,$,!1,null,"67eae66a",null),D=R.exports,H={name:"Usuarios",components:{AddU:S,EditU:D},data(){return{status:"",message:"",item:"",search_value:"",updsearchcli:"",currentPage:1,itemsPerPage:12,active:!1,viewModal:!1,itemDel:"",radius:!1}},created(){this.getAllInfoUsr("usuarios")},computed:{data(){let t=this.$store.getters["usuarios/data"];if(!Array.isArray(t))return[];if(""!=this.search_value){let s=t.filter((t=>this.includesItem(this.search_value,t.name)));t=s}return t},historyOption(){return this.$store.getters["usuarios/getHistoryOption"]},allItems(){return Object.keys(this.data).map((t=>this.data[t]))},filteredItems(){return this.allItems.slice((this.currentPage-1)*this.itemsPerPage,this.currentPage*this.itemsPerPage)},totalPages(){let t=Math.ceil(this.allItems.length/this.itemsPerPage);return t<this.currentPage&&(this.currentPage=1),t}},methods:{...(0,n.nv)("usuarios",["getAllInfoUsr"]),...(0,n.nv)("usuarios",["setHistoryOptionUsr"]),...(0,n.nv)("usuarios",["setAddedUsr"]),includesItem(t,s){return s=s.normalize("NFD").replace(/[\u0300-\u036f]/g,""),""==t||(s=s.toLowerCase(),t=t.toLowerCase(),""!=t&&s.includes(t))},changeView(t,s){this.item=s,this.setAddedUsr(s),this.setHistoryOptionUsr(t)},activeRadius(){this.radius?this.radius=!1:this.radius=!0},showModal:function(t){this.itemDel=t,this.viewModal=!0},closeModal:function(){this.viewModal=!1,this.itemDel=""},wait:function(){setTimeout((()=>this.$router.go()),200)},delStatus:function(){setTimeout((()=>this.delMsgs()),2e3),setTimeout((()=>this.wait()),500)},delMsgs:function(){this.status="",this.message=""},eliminar:async function(){let t=this.itemDel;this.status="",this.message="";let s=await this.$store.dispatch("usuarios/deleteItemUsr",{option:"user",id:t});"error"==s.status?(this.message=s.message,this.status="error",this.delStatus()):(this.status="",this.message="",this.wait())},closeSelect(){document.getElementById("select-ch").checked=!1,this.active=!1},next(){this.currentPage<this.totalPages&&this.currentPage++},prev(){this.currentPage>1&&this.currentPage--}}},L=H,T=(0,u.Z)(L,A,O,!1,null,"dbd029b8",null),z=T.exports,q=function(){var t=this,s=t._self._c;return s("div",{attrs:{id:"profile"}},["Default"==t.historyOption?s("div",{staticClass:"dflx"},[s("div",{staticClass:"box-profile"},[s("div",{staticClass:"dflx"},[s("p",{staticClass:"noitems"},[t._v("No. de items "),"No se encontraron coincidencias."!=t.data?s("span",[t._v(t._s(t.data.length))]):s("span",[t._v("0")])]),s("div",{staticClass:"select-container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.active,expression:"active"}],attrs:{type:"checkbox",name:"select-ch",id:"select-ch","true-value":"true","false-value":"false"},domProps:{checked:Array.isArray(t.active)?t._i(t.active,null)>-1:t._q(t.active,"true")},on:{change:function(s){var e=t.active,a=s.target,i=a.checked?"true":"false";if(Array.isArray(e)){var r=null,o=t._i(e,r);a.checked?o<0&&(t.active=e.concat([r])):o>-1&&(t.active=e.slice(0,o).concat(e.slice(o+1)))}else t.active=i}}}),s("label",{attrs:{for:"select-ch"}},[s("div",{class:{rounded:t.active},attrs:{id:"select-items"}},[t._v(" Items por página: "+t._s(t.itemsPerPage)+" ")])]),s("div",{staticClass:"options-cont",on:{click:function(s){return t.closeSelect()}}},[s("div",{staticClass:"option-btn",attrs:{value:6},on:{click:function(s){t.itemsPerPage="6"}}},[t._v(" 6 ")]),s("div",{staticClass:"option-btn",attrs:{value:12},on:{click:function(s){t.itemsPerPage="12"}}},[t._v(" 12 ")]),s("div",{staticClass:"option-btn",attrs:{value:18},on:{click:function(s){t.itemsPerPage="18"}}},[t._v(" 18 ")]),s("div",{staticClass:"option-btn",attrs:{value:24},on:{click:function(s){t.itemsPerPage="24"}}},[t._v(" 24 ")])])]),s("div",{staticClass:"buscador dflx"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.search_value,expression:"search_value"}],staticClass:"form-control",attrs:{type:"search",id:"input-search",placeholder:"Búsqueda"},domProps:{value:t.search_value},on:{input:function(s){s.target.composing||(t.search_value=s.target.value)}}}),s("div",{staticClass:"icon_buscar"},[s("img",{attrs:{src:e(6704),alt:"icono buscar"},on:{click:function(s){return t.search(t.search_value)}}})])])]),s("div",{staticClass:"btn_añadir dflx",on:{click:function(s){return t.changeView("Add","")}}},[s("p",[t._v(" AGREGAR")]),t._v(" "),s("img",{attrs:{src:e(40),alt:""}})]),s("div",{staticClass:"tbl_profile"},[t._m(0),s("div",{attrs:{tbl_content:""}},[t.data.length>0?s("div",t._l(t.filteredItems,(function(a,i){return s("div",{key:i,staticClass:"tbl_items dflx"},[s("div",{staticClass:"tbl_item itp1"},[s("p",[t._v(t._s(a.name))])]),s("div",{staticClass:"tbl_item dflx"},[s("p",{staticClass:"pill",style:{background:a.code}}),t._v(" "),s("p",{style:{color:a.code}},[t._v(t._s(a.code))])]),s("div",{staticClass:"icon_editar"},[s("img",{attrs:{src:e(8926),alt:"icono editar"},on:{click:function(s){return t.changeView("Edit",a)}}})]),"si"!=a.main?s("div",{staticClass:"icon_eliminar"},[s("img",{attrs:{src:e(6015),alt:"icono eliminar"},on:{click:function(s){return t.showModal(a.id)}}})]):t._e()])})),0):s("div",[s("p",{staticClass:"snu"},[t._v("Aun no hay registros.")])])])]),s("div",{staticClass:"mlf",attrs:{id:"navigate-buttons"}},[s("div",{staticClass:"dflx"},[s("button",{staticClass:"btn-navigate",attrs:{id:"btn-prev"},on:{click:t.prev}},[s("img",{attrs:{src:e(1651),alt:"icono anterior"}})]),s("p",{staticClass:"num-pages"},[t._v(t._s(t.currentPage)+" / "+t._s(t.totalPages))]),s("button",{staticClass:"btn-navigate",attrs:{id:"btn-next"},on:{click:t.next}},[s("img",{attrs:{src:e(1924),alt:"icono siguiente"}})])])])]),s("div",{staticClass:"box-logo"},[s("p",{staticClass:"upd-logo"},[t._v("Actualizar logo administrador")]),s("div",{staticClass:"form-img"},[s("div",{staticClass:"dflx"},[s("div",{staticClass:"btn_añadir2 dflx",on:{click:function(s){return t.submitImg(t.file1,t.logo.id)}}},[t._m(1),s("img",{attrs:{src:e(4696),alt:""}})])]),s("div",{staticClass:"grup-form dflx"},[s("div",{staticClass:"boxform"},[s("div",{staticClass:"dflx"},[t._m(2),s("label",{staticClass:"filelabelname tbl_item",attrs:{for:"uploadimg"}},[t._v(" "+t._s(t.archivo))])]),s("input",{staticClass:"fileinput",attrs:{type:"file",id:"uploadimg",name:"uploadimg",required:""},on:{change:t.previewFiles}})])]),""!=t.status2?s("div",{staticClass:"status_messages"},["success"==t.status2?s("div",{staticClass:"msg msg_success"},[s("p",[t._v(t._s(t.message2))])]):t._e(),"error"==t.status2?s("div",{staticClass:"msg msg_error"},[s("p",[t._v(t._s(t.message2))])]):t._e()]):t._e()]),s("div",{staticClass:"div-logo"},[t.statusimg?s("img",{staticClass:"logo",attrs:{src:t.srcImg(t.logo.logo),alt:""}}):t._e()])])]):t._e(),"Add"==t.historyOption?s("div",[s("AddPrf")],1):t._e(),"Edit"==t.historyOption?s("div",[s("EditPrf")],1):t._e(),""!=t.status?s("div",{staticClass:"status_messages"},["success"==t.status?s("div",{staticClass:"msg msg_success"},[s("p",[t._v(t._s(t.message))])]):t._e(),"error"==t.status?s("div",{staticClass:"msg msg_error"},[s("p",[t._v(t._s(t.message))])]):t._e()]):t._e(),t.viewModal?s("div",{staticClass:"modal_view"},[s("div",{attrs:{id:"modal_delete"}},[t._m(3),s("div",{staticClass:"modal_del_btns dflx"},[s("p",{on:{click:function(s){return t.eliminar()}}},[t._v("Aceptar")]),t._v(" "),s("p",{on:{click:function(s){return t.closeModal()}}},[t._v("Cancelar")])])])]):t._e()])},Z=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"tbl_header dflx"},[s("div",{staticClass:"tblh tblrad"},[s("p",[t._v("NOMBRE")])]),s("div",{staticClass:"tblh"},[s("p",[t._v("COLOR")])]),s("div",{staticClass:"tblh2"},[s("p",[t._v("EDITAR")])]),s("div",{staticClass:"tblh2 tblh2r"},[s("p",[t._v("BORRAR")])])])},function(){var t=this,s=t._self._c;return s("p",[t._v("AGREGAR "),s("span",[t._v(" IMAGEN")])])},function(){var t=this,s=t._self._c;return s("label",{staticClass:"filelabel",attrs:{for:"uploadimg"}},[s("span",[t._v("Seleccionar Archivo")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"body"},[s("img",{attrs:{src:e(8474),alt:"icono alerta"}}),s("h3",[t._v("¿Estás seguro de "),s("span",[t._v("eliminar "),s("br"),t._v(" este color?")])])])}],B=(e(7658),function(){var t=this,s=t._self._c;return s("div",{attrs:{id:"AddPrf"}},[s("div",{staticClass:"form-content"},[s("form",{on:{submit:function(s){return s.preventDefault(),t.submit(t.name,t.code)}}},[s("div",{staticClass:"grup-form dflx"},[s("div",{staticClass:"boxform"},[s("label",{staticClass:"name",attrs:{for:"name"}},[t._v("Nombre ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text",id:"name",name:"name",required:""},domProps:{value:t.name},on:{input:function(s){s.target.composing||(t.name=s.target.value)}}})]),s("div",{staticClass:"boxform"},[s("label",{staticClass:"code",attrs:{for:"code"}},[t._v("Color")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],attrs:{type:"color",id:"code",name:"code",required:""},domProps:{value:t.code},on:{input:function(s){s.target.composing||(t.code=s.target.value)}}})])]),s("div",{staticClass:"dflx"},[s("p",{staticClass:"btnRegresar",on:{click:function(s){return t.wait()}}},[t._v("Regresar")]),s("button",{staticClass:"alta",attrs:{type:"submit"}},[t._v("Guardar")])]),""!=t.status?s("div",{staticClass:"status_messages"},["success"==t.status?s("div",{staticClass:"msg msg_success"},[s("p",[t._v(t._s(t.message))])]):t._e(),"error"==t.status?s("div",{staticClass:"msg msg_error"},[s("p",[t._v(t._s(t.message))])]):t._e()]):t._e()]),t.viewModal?s("div",{staticClass:"modal_view"},[s("div",{attrs:{id:"modal_add"}},[t._m(0),s("div",{staticClass:"modal_add_btns dflx"},[s("p",{staticClass:"otro",on:{click:function(s){return t.Add()}}},[t._v("Aceptar")]),s("p",{staticClass:"editar",on:{click:function(s){return t.toEdit()}}},[t._v("Editar")]),s("p",{staticClass:"inicio",on:{click:function(s){return t.back()}}},[t._v("Inicio")])])])]):t._e()])])}),F=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"body dflx"},[s("h3",[t._v("Color agregado")]),s("img",{attrs:{src:e(40),alt:"icono alerta"}})])}],G={name:"AddPrf",data(){return{status:"",message:"",name:"",code:"#FFFFFF",active:!1,viewModal:!1}},methods:{...(0,n.nv)("profile",["setAddedPrf"]),...(0,n.nv)("profile",["setHistoryOptionPrf"]),wait:function(){setTimeout((()=>this.$router.go()),200)},submit:async function(t,s){this.status="",this.message="";let e={name:t,code:s,main:"no"},a=await this.$store.dispatch("profile/addItemPrf",{option:"profile",item:e});"error"==a.status?(this.status="error",this.message=a.message):(this.setAddedPrf(a.added),this.showModal())},showModal:function(){this.viewModal=!0},closeModal:function(){this.viewModal=!1,this.setAddedPrf(""),this.setHistoryOptionPrf("Default")},Add:function(){this.status="",this.message="",this.name="",this.code="",this.viewModal=!1,this.setAddedPrf("")},toEdit:function(){this.setHistoryOptionPrf("Edit"),this.viewModal=!1},back:function(){setTimeout((()=>this.$router.go()),200)}}},V=G,j=(0,u.Z)(V,B,F,!1,null,"0404908c",null),W=j.exports,J=function(){var t=this,s=t._self._c;return s("div",{attrs:{id:"EditPrf"}},[s("div",{staticClass:"form-content"},[s("form",{on:{submit:function(s){return s.preventDefault(),t.submit(t.added.name,t.added.code,t.added.main)}}},[s("div",{staticClass:"grup-form dflx"},[s("div",{staticClass:"boxform"},[s("label",{staticClass:"name",attrs:{for:"name"}},[t._v("Nombre ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.added.name,expression:"added.name"}],attrs:{type:"text",id:"name",name:"name",required:""},domProps:{value:t.added.name},on:{input:function(s){s.target.composing||t.$set(t.added,"name",s.target.value)}}})]),s("div",{staticClass:"boxform"},[s("label",{staticClass:"code",attrs:{for:"code"}},[t._v("Color")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.added.code,expression:"added.code"}],attrs:{type:"color",id:"code",name:"code",required:""},domProps:{value:t.added.code},on:{input:function(s){s.target.composing||t.$set(t.added,"code",s.target.value)}}})])]),s("div",{staticClass:"dflx"},[s("p",{staticClass:"btnRegresar",on:{click:function(s){return t.wait()}}},[t._v("Regresar")]),s("button",{staticClass:"alta",attrs:{type:"submit"}},[t._v("Editar")])]),""!=t.status?s("div",{staticClass:"status_messages"},["success"==t.status?s("div",{staticClass:"msg msg_success"},[s("p",[t._v(t._s(t.message))])]):t._e(),"error"==t.status?s("div",{staticClass:"msg msg_error"},[s("p",[t._v(t._s(t.message))])]):t._e()]):t._e()])]),t.viewModal?s("div",{staticClass:"modal_view"},[s("div",{attrs:{id:"modal_edit"}},[t._m(0),s("div",{staticClass:"modal_edit_btns dflx"},[s("p",{staticClass:"otro",on:{click:function(s){return t.wait()}}},[t._v("Aceptar")])])])]):t._e()])},K=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"body dflx"},[s("h3",[t._v("Color actualizado")]),s("img",{attrs:{src:e(40),alt:"icono alerta"}})])}],Q={name:"EditPrf",data(){return{status:"",message:"",status2:"",message2:"",active:!1,viewModal:!1}},created(){let t={id:this.added.id,option:"user"};this.getInfoByIdPrf(t)},computed:{added(){return this.$store.getters["profile/getAdded"]},data(){return this.$store.getters["profile/data"]}},methods:{...(0,n.nv)("profile",["setAddedPrf"]),...(0,n.nv)("profile",["setHistoryOptionPrf"]),wait:function(){setTimeout((()=>this.$router.go()),200)},...(0,n.nv)("profile",["getInfoByIdPrf"]),submit:async function(t,s,e){this.status="",this.message="";let a={id:this.added.id,name:t,code:s,main:e},i=await this.$store.dispatch("profile/editItemPrf",{option:"profile",item:a});"error"==i.status?(this.status="error",this.message=i.message,this.delStatus()):this.showModal()},delStatus:function(){setTimeout((()=>this.delMsgs()),2e3)},delMsgs:function(){this.status="",this.message="",this.status2="",this.message2=""},showModal:function(){this.viewModal=!0},closeModal:function(){this.viewModal=!1,this.setAddedPrf(""),this.setHistoryOptionPrf("Default")},Edit:function(){this.viewModal=!1},back:function(){setTimeout((()=>this.$router.go()),200)}}},X=Q,Y=(0,u.Z)(X,J,K,!1,null,"2c48f5d8",null),tt=Y.exports,st={name:"profile",components:{AddPrf:W,EditPrf:tt},data(){return{status:"",message:"",status2:"",message2:"",item:"",search_value:"",updsearchcli:"",currentPage:1,itemsPerPage:12,active:!1,viewModal:!1,itemDel:"",radius:!1,archivo:"No se eligió archivo",file1:null,url:l.H,statusimg:!1}},async created(){await this.getAllInfoPrf("profile"),await this.getAllInfoLgo("personalize");await this.status_img(this.logo.logo)},computed:{data(){const t=this.$store.getters["profile/data"];let s=[];if(!Array.isArray(t))return[];if(""!=this.search_value)for(const e of t)this.includesItem(this.search_value,e.name)&&s.push(e);else s=t;return s},logo(){const t=this.$store.getters["logo/data"];return Array.isArray(t)&&t[0]?.logo?t[0]:{logo:""}},historyOption(){return this.$store.getters["profile/getHistoryOption"]},allItems(){return Object.keys(this.data).map((t=>this.data[t]))},filteredItems(){return this.allItems.slice((this.currentPage-1)*this.itemsPerPage,this.currentPage*this.itemsPerPage)},totalPages(){let t=Math.ceil(this.allItems.length/this.itemsPerPage);return t<this.currentPage&&(this.currentPage=1),t}},methods:{...(0,n.nv)("profile",["getAllInfoPrf"]),...(0,n.nv)("logo",["getAllInfoLgo"]),...(0,n.nv)("profile",["setHistoryOptionPrf"]),...(0,n.nv)("profile",["setAddedPrf"]),includesItem(t,s){return s=s.normalize("NFD").replace(/[\u0300-\u036f]/g,""),""==t||(s=s.toLowerCase(),t=t.toLowerCase(),""!=t&&s.includes(t))},changeView(t,s){this.item=s,this.setAddedPrf(s),this.setHistoryOptionPrf(t)},activeRadius(){this.radius?this.radius=!1:this.radius=!0},showModal:function(t){this.itemDel=t,this.viewModal=!0},closeModal:function(){this.viewModal=!1,this.itemDel=""},wait:function(){setTimeout((()=>this.$router.go()),200)},delStatus:function(){setTimeout((()=>this.delMsgs()),2e3),setTimeout((()=>this.wait()),500)},delMsgs:function(){this.status="",this.message=""},eliminar:async function(){let t=this.itemDel;this.status="",this.message="";let s=await this.$store.dispatch("profile/deleteItemPrf",{option:"profile",id:t});"error"==s.status?(this.message=s.message,this.status="error",this.delStatus()):(this.status="",this.message="",this.wait())},closeSelect(){document.getElementById("select-ch").checked=!1,this.active=!1},next(){this.currentPage<this.totalPages&&this.currentPage++},prev(){this.currentPage>1&&this.currentPage--},submitImg:async function(t,s){if(this.status="",this.msg="",null!=t)if(t.size>5e6)this.status2="error",this.message2="La imagen excede el tamaño maximo permitido de 1MB.",this.delStatus();else{var e=new FormData;e.append("image",t),e.append("id",s),e.append("_method","PUT");let a=await this.$store.dispatch("logo/editItemLgo",{item:e,option:"personalize"});"error"==a.status?(this.status2="error",this.message2=a.message,this.delStatus()):this.wait()}else this.status2="error",this.message2="Imagen no subida.",this.delStatus()},previewFiles(t){var s=t.target.files||t.dataTransfer.files;s.length&&(this.file1=s[0],this.archivo=this.file1.name)},status_img:async function(t){if(!t||""==t)return this.statusimg=!1,"";this.statusimg=!1;let s={option:"personalize",image:t},e="";try{e=await this.$store.dispatch("main/getStatusImage",s),e?.data?.status?e="":this.statusimg=!0}catch(a){}return e},srcImg:function(t){if(!t||""==t)return this.statusimg=!1,"";let s=`${l.H}/personalize-img/${t}`;return s}}},et=st,at=(0,u.Z)(et,q,Z,!1,null,"77f9be1e",null),it=at.exports,rt=function(){var t=this,s=t._self._c;return s("div",{attrs:{id:"colaboradores"}},["Default"==t.historyOption?s("div",[s("div",{staticClass:"dflx"},[s("p",{staticClass:"noitems"},[t._v("No. de items "),s("span",[t._v(" "+t._s(t.data.length))])]),s("div",{staticClass:"select-container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.active,expression:"active"}],attrs:{type:"checkbox",name:"select-ch",id:"select-ch","true-value":"true","false-value":"false"},domProps:{checked:Array.isArray(t.active)?t._i(t.active,null)>-1:t._q(t.active,"true")},on:{change:function(s){var e=t.active,a=s.target,i=a.checked?"true":"false";if(Array.isArray(e)){var r=null,o=t._i(e,r);a.checked?o<0&&(t.active=e.concat([r])):o>-1&&(t.active=e.slice(0,o).concat(e.slice(o+1)))}else t.active=i}}}),s("label",{attrs:{for:"select-ch"}},[s("div",{class:{rounded:t.active},attrs:{id:"select-items"}},[t._v(" Items por página: "+t._s(t.itemsPerPage)+" ")])]),s("div",{staticClass:"options-cont",on:{click:function(s){return t.closeSelect()}}},[s("div",{staticClass:"option-btn",attrs:{value:6},on:{click:function(s){t.itemsPerPage="6"}}},[t._v(" 6 ")]),s("div",{staticClass:"option-btn",attrs:{value:12},on:{click:function(s){t.itemsPerPage="12"}}},[t._v(" 12 ")]),s("div",{staticClass:"option-btn",attrs:{value:18},on:{click:function(s){t.itemsPerPage="18"}}},[t._v(" 18 ")]),s("div",{staticClass:"option-btn",attrs:{value:24},on:{click:function(s){t.itemsPerPage="24"}}},[t._v(" 24 ")])])]),s("div",{staticClass:"buscador dflx"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.search_value,expression:"search_value"}],staticClass:"form-control",attrs:{type:"search",id:"input-search",placeholder:"Búsqueda"},domProps:{value:t.search_value},on:{input:function(s){s.target.composing||(t.search_value=s.target.value)}}}),t._m(0)])]),s("div",{staticClass:"btn_añadir dflx",on:{click:function(s){return t.changeView("Add","")}}},[s("p",[t._v(" AGREGAR")]),t._v(" "),s("img",{attrs:{src:e(40),alt:""}})]),s("div",{staticClass:"tbl_usuarios"},[t._m(1),s("div",{attrs:{tbl_content:""}},[t.data.length>0?s("div",t._l(t.filteredItems,(function(a,i){return s("div",{key:i,staticClass:"tbl_items dflx"},[s("div",{staticClass:"tbl_item"},[s("p",[t._v(t._s(a.name))])]),s("div",{staticClass:"tbl_item"},[s("p",[t._v(t._s(a.lastname))])]),s("div",{staticClass:"tbl_item"},[s("p",[t._v(t._s(a.email))])]),s("div",{staticClass:"tbl_item"},[s("p",[t._v(t._s(a.role))])]),s("div",{staticClass:"icon_editar"},[s("img",{attrs:{src:e(8926),alt:"icono editar"},on:{click:function(s){return t.changeView("Edit",a)}}})]),s("div",{staticClass:"icon_eliminar"},[s("img",{attrs:{src:e(6015),alt:"icono eliminar"},on:{click:function(s){return t.showModal(a.id)}}})])])})),0):s("div",[s("p",{staticClass:"snu"},[t._v("Aun no hay registros.")])])])]),s("div",{staticClass:"mlf",attrs:{id:"navigate-buttons"}},[s("div",{staticClass:"dflx"},[s("button",{staticClass:"btn-navigate",attrs:{id:"btn-prev"},on:{click:t.prev}},[s("img",{attrs:{src:e(1651),alt:"icono anterior"}})]),s("p",{staticClass:"num-pages"},[t._v(t._s(t.currentPage)+" / "+t._s(t.totalPages))]),s("button",{staticClass:"btn-navigate",attrs:{id:"btn-next"},on:{click:t.next}},[s("img",{attrs:{src:e(1924),alt:"icono siguiente"}})])])])]):t._e(),"Add"==t.historyOption?s("div",[s("AddClb")],1):t._e(),"Edit"==t.historyOption?s("div",[s("EditClb")],1):t._e(),""!=t.status?s("div",{staticClass:"status_messages"},["success"==t.status?s("div",{staticClass:"msg msg_success"},[s("p",[t._v(t._s(t.message))])]):t._e(),"error"==t.status?s("div",{staticClass:"msg msg_error"},[s("p",[t._v(t._s(t.message))])]):t._e()]):t._e(),t.viewModal?s("div",{staticClass:"modal_view"},[s("div",{attrs:{id:"modal_delete"}},[t._m(2),s("div",{staticClass:"modal_del_btns dflx"},[s("p",{on:{click:function(s){return t.eliminar()}}},[t._v("Aceptar")]),t._v(" "),s("p",{on:{click:function(s){return t.closeModal()}}},[t._v("Cancelar")])])])]):t._e()])},ot=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"icon_buscar"},[s("img",{attrs:{src:e(6704),alt:"icono buscar"}})])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"tbl_header dflx"},[s("div",{staticClass:"tblh tblrad"},[s("p",[t._v("NOMBRE")])]),s("div",{staticClass:"tblh"},[s("p",[t._v("APELLIDOS")])]),s("div",{staticClass:"tblh"},[s("p",[t._v("CORREO")])]),s("div",{staticClass:"tblh"},[s("p",[t._v("ROL")])]),s("div",{staticClass:"tblh2"},[s("p",[t._v("BORRAR")])]),s("div",{staticClass:"tblh2 tblh2r"},[s("p",[t._v("EDITAR")])])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"body"},[s("img",{attrs:{src:e(8474),alt:"icono alerta"}}),s("h3",[t._v("¿Estás seguro de "),s("span",[t._v("eliminar "),s("br"),t._v(" este usuario?")])])])}],nt=function(){var t=this,s=t._self._c;return s("div",{attrs:{id:"AddClb"}},[s("div",{staticClass:"form-content"},[s("form",{on:{submit:function(s){return s.preventDefault(),t.submit(t.name,t.lastname,t.email,t.phone,t.pass,t.passc,t.wlink)}}},[s("div",{staticClass:"grup-form dflx"},[s("div",{staticClass:"boxform"},[s("label",{staticClass:"name",attrs:{for:"name"}},[t._v("Nombre ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"in1",attrs:{type:"text",id:"name",name:"name",pattern:"[a-zA-ZñÑáéíóúÁÉÍÓÚ0-9\\s]{2,254}",required:""},domProps:{value:t.name},on:{input:function(s){s.target.composing||(t.name=s.target.value)}}})]),s("div",{staticClass:"boxform"},[s("label",{staticClass:"lastname",attrs:{for:"lastname"}},[t._v("Apellido/s")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.lastname,expression:"lastname"}],staticClass:"in1",attrs:{type:"text",id:"lastname",name:"lastname",pattern:"[a-zA-ZñÑáéíóúÁÉÍÓÚ0-9\\s]{2,254}",required:""},domProps:{value:t.lastname},on:{input:function(s){s.target.composing||(t.lastname=s.target.value)}}})])]),s("div",{staticClass:"grup-form dflx"},[s("div",{staticClass:"boxform"},[s("label",{staticClass:"phone",attrs:{for:"phone"}},[t._v("Teléfono")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],staticClass:"in1",attrs:{type:"text",id:"phone",name:"phone",minlength:"10",maxlength:"10",size:"10",pattern:"\\d*",required:""},domProps:{value:t.phone},on:{input:function(s){s.target.composing||(t.phone=s.target.value)}}})]),s("div",{staticClass:"boxform"},[s("label",{staticClass:"email",attrs:{for:"email"}},[t._v("E-mail")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"in1",attrs:{type:"email",id:"email",name:"email",required:""},domProps:{value:t.email},on:{input:function(s){s.target.composing||(t.email=s.target.value)}}})])]),s("div",{staticClass:"grup-form dflx"},[s("div",{staticClass:"boxform"},[s("label",{staticClass:"wlink",attrs:{for:"wlink"}},[t._v("Whatsapp Link")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.wlink,expression:"wlink"}],attrs:{type:"text",id:"wlink",name:"wlink",required:""},domProps:{value:t.wlink},on:{input:function(s){s.target.composing||(t.wlink=s.target.value)}}})])]),s("div",{staticClass:"grup-form dflx"},[s("div",{staticClass:"boxform"},[s("label",{staticClass:"pass",attrs:{for:"pass"}},[t._v("Contraseña")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.pass,expression:"pass"}],staticClass:"in5",attrs:{type:"password",id:"pass",name:"pass",minlength:"8",required:""},domProps:{value:t.pass},on:{input:function(s){s.target.composing||(t.pass=s.target.value)}}})]),s("div",{staticClass:"boxform"},[s("label",{staticClass:"passc",attrs:{for:"passc"}},[t._v("Confirmar Contraseña")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.passc,expression:"passc"}],staticClass:"in5",attrs:{type:"password",id:"passc",name:"passc",minlength:"8",required:""},domProps:{value:t.passc},on:{input:function(s){s.target.composing||(t.passc=s.target.value)}}})])]),s("div",{staticClass:"dflx"},[s("p",{staticClass:"btnRegresar",on:{click:function(s){return t.wait()}}},[t._v("Regresar")]),s("button",{staticClass:"alta",attrs:{type:"submit"}},[t._v("Guardar")])]),""!=t.status?s("div",{staticClass:"status_messages"},["success"==t.status?s("div",{staticClass:"msg msg_success"},[s("p",[t._v(t._s(t.message))])]):t._e(),"error"==t.status?s("div",{staticClass:"msg msg_error"},[s("p",[t._v(t._s(t.message))])]):t._e()]):t._e()]),t.viewModal?s("div",{staticClass:"modal_view"},[s("div",{attrs:{id:"modal_add"}},[t._m(0),s("div",{staticClass:"modal_add_btns dflx"},[s("p",{staticClass:"otro",on:{click:function(s){return t.Add()}}},[t._v("Aceptar")]),s("p",{staticClass:"editar",on:{click:function(s){return t.toEdit()}}},[t._v("Editar")]),s("p",{staticClass:"inicio",on:{click:function(s){return t.back()}}},[t._v("Inicio")])])])]):t._e()])])},lt=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"body dflx"},[s("h3",[t._v("Colaborador agregado")]),s("img",{attrs:{src:e(40),alt:"icono alerta"}})])}],ct={name:"AddClb",data(){return{status:"",message:"",name:"",lastname:"",wlink:"",active:!1,phone:"",email:"",pass:"",passc:"",viewModal:!1}},methods:{...(0,n.nv)("colaborador",["setAddedClb"]),...(0,n.nv)("colaborador",["setHistoryOptionClb"]),wait:function(){setTimeout((()=>this.$router.go()),200)},submit:async function(t,s,e,a,i,r,o){if(this.status="",this.message="",i===r){let n=await this.$store.dispatch("colaborador/addItemClb",{option:"colaborador",item:{name:t,lastname:s,email:e,phone:a,pass:i,passc:r,wlink:o}});"error"==n.status?(this.status="error",this.message=n.message):(this.setAddedClb(n.added),this.showModal())}else this.status="error",this.message="Las contraseñas no coinciden."},closeSelect(){this.active=!1,document.getElementById("select-ch").checked=!1},showModal:function(){this.viewModal=!0},closeModal:function(){this.viewModal=!1,this.setAddedClb(""),this.setHistoryOptionClb("Default")},Add:function(){this.status="",this.message="",this.name="",this.lastname="",this.wlink="",this.phone="",this.email="",this.pass="",this.passc="",this.viewModal=!1,this.setAddedClb("")},toEdit:function(){this.setHistoryOptionClb("Edit"),this.viewModal=!1},back:function(){setTimeout((()=>this.$router.go()),200)}}},dt=ct,ut=(0,u.Z)(dt,nt,lt,!1,null,"6c2e1983",null),mt=ut.exports,vt=function(){var t=this,s=t._self._c;return s("div",{attrs:{id:"EditClb"}},[s("div",{staticClass:"form-content"},[s("form",{on:{submit:function(s){return s.preventDefault(),t.submit(t.added.name,t.added.lastname,t.added.email,t.added.phone,t.pass,t.passc,t.added.wlink)}}},[s("div",{staticClass:"grup-form dflx"},[s("div",{staticClass:"boxform"},[s("label",{staticClass:"name",attrs:{for:"name"}},[t._v("Nombre ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.added.name,expression:"added.name"}],staticClass:"in1",attrs:{type:"text",id:"name",name:"name",pattern:"[a-zA-ZñÑáéíóúÁÉÍÓÚ0-9\\s]{2,254}",required:""},domProps:{value:t.added.name},on:{input:function(s){s.target.composing||t.$set(t.added,"name",s.target.value)}}})]),s("div",{staticClass:"boxform"},[s("label",{staticClass:"lastname",attrs:{for:"lastname"}},[t._v("Apellido/s")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.added.lastname,expression:"added.lastname"}],staticClass:"in1",attrs:{type:"text",id:"lastname",name:"lastname",pattern:"[a-zA-ZñÑáéíóúÁÉÍÓÚ0-9\\s]{2,254}",required:""},domProps:{value:t.added.lastname},on:{input:function(s){s.target.composing||t.$set(t.added,"lastname",s.target.value)}}})])]),s("div",{staticClass:"grup-form dflx"},[s("div",{staticClass:"boxform"},[s("label",{staticClass:"phone",attrs:{for:"phone"}},[t._v("Teléfono")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.added.phone,expression:"added.phone"}],staticClass:"in1",attrs:{type:"text",id:"phone",name:"phone",minlength:"10",maxlength:"10",size:"10",pattern:"\\d*",required:""},domProps:{value:t.added.phone},on:{input:function(s){s.target.composing||t.$set(t.added,"phone",s.target.value)}}})]),s("div",{staticClass:"boxform"},[s("label",{staticClass:"email",attrs:{for:"email"}},[t._v("E-mail")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.added.email,expression:"added.email"}],staticClass:"in1",attrs:{type:"email",id:"email",name:"email",required:""},domProps:{value:t.added.email},on:{input:function(s){s.target.composing||t.$set(t.added,"email",s.target.value)}}})])]),s("div",{staticClass:"grup-form dflx"},[s("div",{staticClass:"boxform"},[s("label",{staticClass:"wlink",attrs:{for:"wlink"}},[t._v("Whatsapp Link")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.added.wlink,expression:"added.wlink"}],attrs:{type:"text",id:"wlink",name:"wlink",required:""},domProps:{value:t.added.wlink},on:{input:function(s){s.target.composing||t.$set(t.added,"wlink",s.target.value)}}})])]),s("p",{staticClass:"chpass"},[t._v("*Solo si deseas cambiar la contraseña.")]),s("div",{staticClass:"grup-form dflx"},[s("div",{staticClass:"boxform"},[s("label",{staticClass:"pass",attrs:{for:"pass"}},[t._v("Contraseña")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.pass,expression:"pass"}],staticClass:"in5",attrs:{type:"password",id:"pass",name:"pass",minlength:"8"},domProps:{value:t.pass},on:{input:function(s){s.target.composing||(t.pass=s.target.value)}}})]),s("div",{staticClass:"boxform"},[s("label",{staticClass:"passc",attrs:{for:"passc"}},[t._v("Confirmar Contraseña")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.passc,expression:"passc"}],staticClass:"in5",attrs:{type:"password",id:"passc",name:"passc",minlength:"8"},domProps:{value:t.passc},on:{input:function(s){s.target.composing||(t.passc=s.target.value)}}})])]),s("div",{staticClass:"dflx"},[s("p",{staticClass:"btnRegresar",on:{click:function(s){return t.wait()}}},[t._v("Regresar")]),s("button",{staticClass:"alta",attrs:{type:"submit"}},[t._v("Editar")])]),""!=t.status?s("div",{staticClass:"status_messages"},["success"==t.status?s("div",{staticClass:"msg msg_success"},[s("p",[t._v(t._s(t.message))])]):t._e(),"error"==t.status?s("div",{staticClass:"msg msg_error"},[s("p",[t._v(t._s(t.message))])]):t._e()]):t._e()])]),s("hr",{staticClass:"hrhd"}),s("div",{staticClass:"form-img"},[s("div",{staticClass:"grup-form dflx"},[s("div",{staticClass:"boxform"},[s("label",[t._v("Imagen")]),s("div",{staticClass:"dflx"},[t._m(0),s("label",{staticClass:"filelabelname tbl_item",attrs:{for:"uploadimg"}},[t._v(" "+t._s(t.archivo))])]),s("input",{staticClass:"fileinput",attrs:{type:"file",id:"uploadimg",name:"uploadimg",required:""},on:{change:t.previewFiles}})])]),s("div",{staticClass:"dflx"},[s("div",{staticClass:"btn_añadir2 dflx",on:{click:function(s){return t.submitImg(t.file1)}}},[t._m(1),s("img",{attrs:{src:e(4696),alt:""}})])]),""!=t.status2?s("div",{staticClass:"status_messages"},["success"==t.status2?s("div",{staticClass:"msg msg_success"},[s("p",[t._v(t._s(t.message2))])]):t._e(),"error"==t.status2?s("div",{staticClass:"msg msg_error"},[s("p",[t._v(t._s(t.message2))])]):t._e()]):t._e()]),s("div",{staticClass:"div-user"},[t.statusimg?s("img",{staticClass:"logo",attrs:{src:t.srcImg(t.added.image),alt:""}}):t._e()]),t.viewModal?s("div",{staticClass:"modal_view"},[s("div",{attrs:{id:"modal_edit"}},[t._m(2),s("div",{staticClass:"modal_edit_btns dflx"},[s("p",{staticClass:"otro",on:{click:function(s){return t.wait()}}},[t._v("Aceptar")])])])]):t._e()])},pt=[function(){var t=this,s=t._self._c;return s("label",{staticClass:"filelabel",attrs:{for:"uploadimg"}},[s("span",[t._v("Seleccionar Archivo")])])},function(){var t=this,s=t._self._c;return s("p",[t._v("AGREGAR "),s("span",[t._v(" IMAGEN")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"body dflx"},[s("h3",[t._v("Colaborador actualizado")]),s("img",{attrs:{src:e(40),alt:"icono alerta"}})])}],ht={name:"EditClb",data(){return{status:"",message:"",status2:"",message2:"",active:!1,pass:"",passc:"",archivo:"No se eligió archivo",statusimg:!1,file1:null,viewModal:!1}},async created(){let t={id:this.added.id,option:"colaborador"};this.getInfoByIdClb(t);await this.status_img(this.added.image)},computed:{added(){return this.$store.getters["colaborador/getAdded"]},data(){return this.$store.getters["colaborador/data"]}},methods:{...(0,n.nv)("colaborador",["setAddedClb"]),...(0,n.nv)("colaborador",["setHistoryOptionClb"]),wait:function(){setTimeout((()=>this.$router.go()),200)},...(0,n.nv)("colaborador",["getInfoByIdClb"]),submit:async function(t,s,e,a,i,r,o){if(this.status="",this.message="",i===r){let n=await this.$store.dispatch("colaborador/editItemClb",{option:"colaborador",item:{id:this.added.id,name:t,lastname:s,email:e,phone:a,pass:i,passc:r,wlink:o}});"error"==n.status?(this.status="error",this.message=n.message):this.showModal()}else this.status="error",this.message="Las contraseñas no coinciden."},closeSelect(){this.active=!1,document.getElementById("select-ch").checked=!1},submitImg:async function(t){if(this.status="",this.msg="",null!=t)if(t.size>5e6)this.status2="error",this.message2="La imagen excede el tamaño maximo permitido de 1MB.",this.delStatus();else{var s=new FormData;s.append("image",t),s.append("_method","PUT");let e=await this.$store.dispatch("main/editImage",{id:this.added.id,item:s,option:"colaborador"});"error"==e.status?(this.status2="error",this.message2=e.message,this.delStatus()):this.showModal()}else this.status2="error",this.message2="Imagen no subida.",this.delStatus()},delStatus:function(){setTimeout((()=>this.delMsgs()),2e3)},delMsgs:function(){this.status="",this.message="",this.status2="",this.message2=""},showModal:function(){this.viewModal=!0},closeModal:function(){this.viewModal=!1,this.setAddedClb(""),this.setHistoryOptionClb("Default")},Edit:function(){this.viewModal=!1},back:function(){setTimeout((()=>this.$router.go()),200)},previewFiles(t){var s=t.target.files||t.dataTransfer.files;s.length&&(this.file1=s[0],this.archivo=this.file1.name)},srcImg:function(t){if(console.log(t),!t||""==t)return this.statusimg=!1,"";let s=`${l.H}/colaborador-img/${t}`;return s},status_img:async function(t){if(!t||""==t)return this.statusimg=!1,"";this.statusimg=!1;let s={option:"colaborador",image:t},e="";try{e=await this.$store.dispatch("main/getStatusImage",s),e?.data?.status?e="":this.statusimg=!0}catch(a){}return e}}},gt=ht,ft=(0,u.Z)(gt,vt,pt,!1,null,"44a78774",null),_t=ft.exports,Ct={name:"colaboradores",components:{AddClb:mt,EditClb:_t},data(){return{status:"",message:"",item:"",search_value:"",updsearchcli:"",currentPage:1,itemsPerPage:12,active:!1,viewModal:!1,itemDel:"",radius:!1}},created(){this.getAllInfoClb("colaborador")},computed:{data(){let t=this.$store.getters["colaborador/data"];if(!Array.isArray(t))return[];if(""!=this.search_value){let s=t.filter((t=>this.includesItem(this.search_value,t.name)));t=s}return t},historyOption(){return this.$store.getters["colaborador/getHistoryOption"]},allItems(){return Object.keys(this.data).map((t=>this.data[t]))},filteredItems(){return this.allItems.slice((this.currentPage-1)*this.itemsPerPage,this.currentPage*this.itemsPerPage)},totalPages(){let t=Math.ceil(this.allItems.length/this.itemsPerPage);return t<this.currentPage&&(this.currentPage=1),t}},methods:{...(0,n.nv)("colaborador",["getAllInfoClb"]),...(0,n.nv)("colaborador",["setHistoryOptionClb"]),...(0,n.nv)("colaborador",["setAddedClb"]),includesItem(t,s){return s=s.normalize("NFD").replace(/[\u0300-\u036f]/g,""),""==t||(s=s.toLowerCase(),t=t.toLowerCase(),""!=t&&s.includes(t))},changeView(t,s){this.item=s,this.setAddedClb(s),this.setHistoryOptionClb(t)},activeRadius(){this.radius?this.radius=!1:this.radius=!0},showModal:function(t){this.itemDel=t,this.viewModal=!0},closeModal:function(){this.viewModal=!1,this.itemDel=""},wait:function(){setTimeout((()=>this.$router.go()),200)},delStatus:function(){setTimeout((()=>this.delMsgs()),2e3),setTimeout((()=>this.wait()),500)},delMsgs:function(){this.status="",this.message=""},eliminar:async function(){let t=this.itemDel;this.status="",this.message="";let s=await this.$store.dispatch("colaborador/deleteItemClb",{option:"colaborador",id:t});"error"==s.status?(this.message=s.message,this.status="error",this.delStatus()):(this.status="",this.message="",this.wait())},closeSelect(){document.getElementById("select-ch").checked=!1,this.active=!1},next(){this.currentPage<this.totalPages&&this.currentPage++},prev(){this.currentPage>1&&this.currentPage--}}},bt=Ct,yt=(0,u.Z)(bt,rt,ot,!1,null,"d8b8b48a",null),wt=yt.exports,At=e(6689),Ot=e(5591),xt=e(1047),Pt=e(6491),It={name:"Sections",components:{HeaderSec:w,Usuarios:z,Perfil:it,Colaboradores:wt,Terrenos:At.Z,Casas:Ot.Z,Oficinas:xt.Z,Locales:Pt.Z},data(){return{search_value:"",status:"",message:"",option:"Default"}},computed:{historyOption(){return this.$store.getters["main/getHistoryOption"]}},created(){let t=localStorage.getItem("nav");void 0!=t&&null!=t&&""!=t&&(this.option=t,this.setHistoryOptionMain(t))},methods:{...(0,n.nv)("main",["setHistoryOptionMain"]),...(0,n.nv)("main",["getHistoryOption"])}},kt=It,Mt=(0,u.Z)(kt,p,h,!1,null,"131ae630",null),St=Mt.exports,Et={name:"Dashboard",components:{SideMenu:v,Sections:St}},$t=Et,Nt=(0,u.Z)($t,a,i,!1,null,"47cbb674",null),Ut=Nt.exports}}]);
//# sourceMappingURL=615.ce0e9216.js.map